@model IEnumerable<Business_Model.Model.AccountManager>
@section PageStyle
{
    <link href="/assets/node_modules/kendoui/styles/kendo.common.min.css" rel="stylesheet" />
    <link href="/assets/node_modules/kendoui/styles/kendo.flat.min.css" rel="stylesheet" />
    <link href="/assets/node_modules/kendoui/styles/kendo.flat.mobile.min.css" rel="stylesheet" />


}
<div class="row page-titles">
    <div class="col-md-5 align-self-center">
        <h4 class="text-themecolor">Manage Supplier</h4>
    </div>
    <div class="col-md-7 align-self-center text-right">
        <div class="d-flex justify-content-end align-items-center">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
                <li class="breadcrumb-item"><a href="javascript:void(0)">Management</a></li>
                <li class="breadcrumb-item active">Manage Supplier </li>
            </ol>


        </div>
    </div>
</div>
<div class="row " style="margin: 0 0px 2px;">
    <div class="col-md-5 align-self-center">
        <h4 class="card-title" id="1"></h4>
    </div>
    <div class="col-md-7 align-self-center text-right">
        <div class="d-flex justify-content-end align-items-center">
            <i class="mdi mdi-arrow-left"></i>  <a href="/ManageSupplier">Back to Supplier</a>
        </div>
    </div>
</div>
@{
    var Accounts = Model.OrderByDescending(c => c.ModifiedDateTime).Select(s => s.AccountApprovalID).Distinct();
    int Counter = 1;
}

@if (Model.Count() > 0)
{
    foreach (var data in Accounts)
    {
        <div class='row @(Counter == 1 ? "jsAccountManagerContainer" :"")'>
            <div class="col-12">
                <div class="card">
                    <div class="card-body wizard-content">
                        <table class="tablesaw table-striped table-hover table-bordered table no-wrap tablesaw-columntoggle" data-tablesaw-mode="columntoggle" id="tablesaw-1548">
                            <thead>
                                <tr>
                                    <th scope="col" data-tablesaw-sortable-col="" data-tablesaw-priority="persist" class="border">
                                        Title
                                    </th>
                                    <th scope="col" data-tablesaw-sortable-col="" data-tablesaw-sortable-default-col="" data-tablesaw-priority="3" class="border tablesaw-priority-3">Value</th>
                                    <th scope="col" data-tablesaw-sortable-col="" data-tablesaw-priority="2" class="border tablesaw-priority-2">
                                        Comment
                                    </th>
                                    <th scope="col" data-tablesaw-sortable-col="" data-tablesaw-priority="1" class="border tablesaw-priority-1">
                                        <abbr title="Rotten Tomato Rating">  Approve</abbr>
                                    </th>

                                </tr>
                            </thead>
                            <tbody>

                                @foreach (var item in Model.Where(x => x.AccountApprovalID == data))
                                {

                                    <tr class="active">

                                        <td class="title">@item.FieldName  
                                         <input type="hidden"  name="ID" class="jsID" value="@item.ID" />
                                          <input type="hidden"  name="EntityID" class="jsEntityID" value="@item.EntityID" />
                                        </td>
                                        @if (item.FieldName == "Work Location" || item.FieldName == "Business Placement")
                                        {
                                            <td class="tablesaw-priority-3">
                                                @if (!string.IsNullOrEmpty(item.Value))
                                                {
                                                    foreach (var word in item.Value.Split(','))
                                                    {
                                                        <p>@word </p>
                                                    }
                                                }

                                            </td>
                                        }
                                        else
                                        {
                                            <td class="tablesaw-priority-3">@item.Value</td>
                                        }
                                        <td class="tablesaw-priority-2"><textarea class="form-control jsComment" rows="2" name="Description">@item.Comment</textarea></td>
                                        <td>
                                            <input type="checkbox" class="custom-checkbox IsApproved"  @( @item.IsApproved == true ? "checked=Checked" : "")>


                                        </td>


                                    </tr>

                                }
                                @if (Counter == 1)
                                {

                                   

                                    <tr>
                                        <td colspan="4" class="text-right"> <button type="button" class="btn btn-danger waves-effect waves-light jsUpdateAccountManager">Update</button></td>
                                    </tr>
                                }

                                @{

                                    Counter = 0;
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    }


}
else
{
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body wizard-content text-center">

                    @("No Record Found")

                </div>
            </div>
        </div>
    </div>
}

@section PageScript
{
    <script src="/assets/node_modules/kendoui/js/kendo.all.min.js"></script>
    <script src="/assets/node_modules/kendoui/js/jszip.min.js"></script>
    <script src="~/Content/page_script/account-manager.js?version=@DateTime.Now"></script>
}

